<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .container {
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>

    <div style="margin-bottom: 48px;">
        <label for=""></label>
        <select id="choixOptions" name="choixOptions">
            <option value="All">Tous</option>
            <option value="Europe">Europe</option>
            <option value="Africa">Afrique</option>
            <option value="Americas">Amerique</option>
            <option value="Asia">Asie</option>
            <option value="Oceania">Oceanie</option>
        </select>
        <button id="search">Find</button>
    </div>

    <div id="container"></div>

    <script>
        const container = document.getElementById("container");
        const btnSearch = document.getElementById("search");
        const selction = document.getElementById("choixOptions")

        async function fetchApi() {

            container.innerHTML = `

            `

            const response = await fetch("https://restcountries.com/v3.1/all");
            const resJSON = await response.json(); 

            console.log(selction.value)

            console.log(resJSON);

            switch (selction.value) {
                case "All": 
                    for (i = 0; i < resJSON.length; i++) {
                        let tabIndex = resJSON[i];
                        container.innerHTML += `
                        <div style="display: flex; flex-direction: row; gap: 50px; margin-bottom: 24px; box-shadow: 4px 4px 10px black;">
                            <img src="${tabIndex.flags.svg}" alt="" style="max-width: 96px; max-height: auto; box-shadow: 4px 4px 5px black;">
                            <div style="max-width: 80%;">
                                <h1 style="max-width: fit-content;">
                                    ${tabIndex.name.official}
                                </h1>
                                <p style="max-width: fit-content;">
                                    Region = ${tabIndex.region}
                                </p>
                            </div>
                        </div>
                        `
                    };
                case "Europe": 
                    for (i = 0; i < resJSON.length; i++) {
                        let tabIndex = resJSON[i];
                        if(tabIndex.region == selction.value) {
                            container.innerHTML += `
                            <div style="display: flex; flex-direction: row; gap: 50px; margin-bottom: 24px; box-shadow: 4px 4px 10px black;">
                                <img src="${tabIndex.flags.svg}" alt="" style="max-width: 96px; max-height: auto; box-shadow: 4px 4px 5px black;">
                                <div style="max-width: 80%;">
                                    <h1 style="max-width: fit-content;">
                                        ${tabIndex.name.official}
                                    </h1>
                                    <p style="max-width: fit-content;">
                                        Region = ${tabIndex.region}
                                    </p>
                                </div>
                            </div>
                            `
                        }
                    };
                case "Africa": 
                for (i = 0; i < resJSON.length; i++) {
                        let tabIndex = resJSON[i];
                        if(tabIndex.region == selction.value) {
                            container.innerHTML += `
                            <div style="display: flex; flex-direction: row; gap: 50px; margin-bottom: 24px; box-shadow: 4px 4px 10px black;">
                                <img src="${tabIndex.flags.svg}" alt="" style="max-width: 96px; max-height: auto; box-shadow: 4px 4px 5px black;">
                                <div style="max-width: 80%;">
                                    <h1 style="max-width: fit-content;">
                                        ${tabIndex.name.official}
                                    </h1>
                                    <p style="max-width: fit-content;">
                                        Region = ${tabIndex.region}
                                    </p>
                                </div>
                            </div>
                            `
                        }
                    };
                case "Americas": 
                    for (i = 0; i < resJSON.length; i++) {
                        let tabIndex = resJSON[i];
                        if(tabIndex.region == selction.value) {
                            container.innerHTML += `
                            <div style="display: flex; flex-direction: row; gap: 50px; margin-bottom: 24px; box-shadow: 4px 4px 10px black;">
                                <img src="${tabIndex.flags.svg}" alt="" style="max-width: 96px; max-height: auto; box-shadow: 4px 4px 5px black;">
                                <div style="max-width: 80%;">
                                    <h1 style="max-width: fit-content;">
                                        ${tabIndex.name.official}
                                    </h1>
                                    <p style="max-width: fit-content;">
                                        Region = ${tabIndex.region}
                                    </p>
                                </div>
                            </div>
                            `
                        }
                    };
                case "Asia": 
                    for (i = 0; i < resJSON.length; i++) {
                        let tabIndex = resJSON[i];
                        if(tabIndex.region == selction.value) {
                            container.innerHTML += `
                            <div style="display: flex; flex-direction: row; gap: 50px; margin-bottom: 24px; box-shadow: 4px 4px 10px black;">
                                <img src="${tabIndex.flags.svg}" alt="" style="max-width: 96px; max-height: auto; box-shadow: 4px 4px 5px black;">
                                <div style="max-width: 80%;">
                                    <h1 style="max-width: fit-content;">
                                        ${tabIndex.name.official}
                                    </h1>
                                    <p style="max-width: fit-content;">
                                        Region = ${tabIndex.region}
                                    </p>
                                </div>
                            </div>
                            `
                        }
                    };
                case "Oceania": 
                    for (i = 0; i < resJSON.length; i++) {
                        let tabIndex = resJSON[i];
                        if(tabIndex.region == selction.value) {
                            container.innerHTML += `
                            <div style="display: flex; flex-direction: row; gap: 50px; margin-bottom: 24px; box-shadow: 4px 4px 10px black;">
                                <img src="${tabIndex.flags.svg}" alt="" style="max-width: 96px; max-height: auto; box-shadow: 4px 4px 5px black;">
                                <div style="max-width: 80%;">
                                    <h1 style="max-width: fit-content;">
                                        ${tabIndex.name.official}
                                    </h1>
                                    <p style="max-width: fit-content;">
                                        Region = ${tabIndex.region}
                                    </p>
                                </div>
                            </div>
                            `
                        }
                    };
            }
        }

        btnSearch.addEventListener("click", () => fetchApi())

    </script>

</body>
</html>